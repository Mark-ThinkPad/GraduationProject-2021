{% extends "base.html" %}
{% block main %}
<div class="columns is-multiline">
  <div class="column is-half uniform-height" >
    <div class="card is-shadowless">
      <header class="card-header">
        <p class="card-header-title">
          <img class="image is-32x32" src="/static/images/mi_logo.png" alt="mi_logo">
          <span>&nbsp;&nbsp;小米10</span>
        </p>
        <p class="card-header-icon">
          <span>于2020年2月13号发布, 小米宣布冲击高端手机市场</span>
        </p>
      </header>
      <div class="card-image">
        <div class="columns">
          <div class="column is-half">
            <img src="/static/images/mi10_1.jpg" alt="mi10_1">
          </div>
          <div class="column is-half">
            <img src="/static/images/mi10_2.jpg" alt="mi10_2">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="column is-half uniform-height" id="total" ></div>
  <div class="column is-half uniform-height"></div>
</div>
{% endblock %}

{% block js %}
<script>
let chart_dom = document.getElementById("total");
let chart = echarts.init(chart_dom);
let option = {
  title: {
    text: "数据源总览"
  },
  tooltip: {
    trigger: "axis",
    axisPointer: {            // 坐标轴指示器，坐标轴触发有效
      type: "line"        // 默认为直线，可选为："line" | "shadow"
    }
  },
  grid: {
    left: "3%",
    right: "4%",
    bottom: "3%",
    containLabel: true
  },
  legend: {
    data: ["销量(基于评论总数)"]
  },
  xAxis: {
    type: "category",
    data: {{ total_source | tojson }}
  },
  yAxis: {
    type: "value"
  },
  series: [{
    name: "销量(基于评论总数)",
    type: "bar",
    data: {{ total_count | tojson }}
  }]
};
chart.setOption(option);
</script>
{% endblock %}